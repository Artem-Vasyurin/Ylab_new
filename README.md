# Y_LAB READ.ME

## Swagger

Документация Swagger доступна по адресу

http://localhost:1234/swagger.html

## API

### Авторизация

```http
  POST /login
```

| Parameter  | Type     | Description                               |
|:-----------|:---------|:------------------------------------------|
| `username` | `STRING` | Поле из тела запроса. Логин пользователя  |
| `password` | `STRING` | Поле из тела запроса. Пароль пользователя |

При успешном входе метод возвращает JWT-токен, который необходимо вставить в кнопку Authorize в Swagger.

#### Пример запорса

```json 
{
  "username": "admin",
  "password": "admin123"
}
```

### Просмотреть каталог

```http
  POST /catalog
```

| Parameter     | Type                     | Description                                                                 |
|:--------------|:-------------------------|:----------------------------------------------------------------------------|
| `gtin`        | `INTEGER`                | Поле из тела запроса. Фильтрация и сортировка по GTIN. Необязательное поле. |
| `name`        | `STRING`                 | Поле из тела запроса. Фильтр по названию товара. Необязательное поле.       |
| `description` | `STRING`                 | Поле из тела запроса. Фильтр по описанию товара. Необязательное поле.       |
| `category`    | `ENUM(ProductCategory)`  | Поле из тела запроса. Фильтр по категории товара. Необязательное поле.      |
| `price`       | `DECIMAL` (`BigDecimal`) | Поле из тела запроса. Фильтр по цене товара.  Необязательное поле.          |
| `brand`       | `STRING`                 | Поле из тела запроса. Фильтр по бренду товара. Необязательное поле.         |

#### Примеры запроса

```json 
{
}
```

```json 
{
  "category": "CLOTHING"
}
```

```json 
{
  "name": "Платье",
  "description": "Удобное платье",
  "category": "CLOTHING",
  "price": 241,
  "brand": "Befree"
}
```

### Создать/обновить продукт

```http
  POST /product/create
```

| Parameter     | Type                     | Description                                                 |
|:--------------|:-------------------------|:------------------------------------------------------------|
| `gtin`        | `INTEGER`                | Поле из тела запроса. GTIN товара.                          |
| `name`        | `STRING`                 | Поле из тела запроса. Название товара.                      |
| `description` | `STRING`                 | Поле из тела запроса. Описание товара. Необязательное поле. |
| `category`    | `ENUM(ProductCategory)`  | Поле из тела запроса. Категория товара.                     |
| `price`       | `DECIMAL` (`BigDecimal`) | Поле из тела запроса. Цена товара.                          |
| `brand`       | `STRING`                 | Поле из тела запроса. Бренд товара. Необязательное поле.    |

Чтобы обновить товар нужно воспользоваться этим же метод с аналогичными полями

#### Примеры запроса

```json 
{
  "gtin": 90311011,
  "name": "Майка",
  "description": "Удобная Майка",
  "category": "CLOTHING",
  "price": 251,
  "brand": "Befree"
}
```

```json 
{
  "gtin": 90311011,
  "name": "Майка",
  "category": "CLOTHING",
  "price": 251
}
```

### Удалить продукт

```http
  DELETE /product/delete
```

| Parameter | Type      | Description                        |
|:----------|:----------|:-----------------------------------|
| `gtin`    | `INTEGER` | Поле из тела запроса. GTIN товара. |

#### Примеры запроса

```json 
{
  "gtin": 90311011
}
```

## Тестовые данные

- **Администратор:**  
  Логин: `admin`  
  Пароль: `admin123`  
  Роль: `ADMIN`


- **Пользователь:**  
  Логин: `user`  
  Пароль: `user123`  
  Роль: `USER`